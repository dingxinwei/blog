<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-export SYSTEM "http://xml.evernote.com/pub/evernote-export2.dtd">
<en-export export-date="20210731T054238Z" application="Evernote/Windows" version="6.x">
<note><title>express 获取请求参数四种方式</title><content><![CDATA[<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE en-note SYSTEM "http://xml.evernote.com/pub/enml2.dtd">

<en-note><div>1.req.params</div><div>&nbsp; &nbsp;获取url路径上的参数，使用方式/user/123456 --&gt; /user/:user --&gt; req.params.user</div><div>2.req.body</div><div>&nbsp; 获取post请求方式的请求数据，需要借助<span style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre;"><span style="background-color: rgb(30, 30, 30); font-size: 16px; font-family: Constantia; line-height: 22px;"><font style="color: rgb(214, 214, 214);">body-parser模块</font></span></span></div><div style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre;"><span style="font-size: 16px; color: rgb(79, 193, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">app</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">.</span><span style="font-size: 16px; color: rgb(220, 220, 170); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">use</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">(</span><span style="font-size: 16px; color: rgb(220, 220, 170); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">bodyparser</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">.</span><span style="font-size: 16px; color: rgb(220, 220, 170); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">urlencoded</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">({&nbsp;</span><span style="font-size: 16px; color: rgb(156, 220, 254); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">extended</span><span style="font-size: 16px; color: rgb(156, 220, 254); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">:</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">&nbsp;</span><span style="font-size: 16px; color: rgb(86, 156, 214); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">false</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">&nbsp;}));处理content-type为</span><span style="font-size: 12pt; color: rgb(212, 212, 212); font-family: Consolas; line-height: 22px;">application/x-www-form-urlencoded的请求数据</span></div><div style="background-color: rgb(30, 30, 30); font-size: 16px; white-space: pre;"><span style="font-size: 16px; color: rgb(79, 193, 255); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">app</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">.</span><span style="font-size: 16px; color: rgb(220, 220, 170); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">use</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">(</span><span style="font-size: 16px; color: rgb(220, 220, 170); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">bodyparser</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">.</span><span style="font-size: 16px; color: rgb(220, 220, 170); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">json</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">());处理</span><span style="font-size: 16px; color: rgb(212, 212, 212); font-family: Consolas, &quot;Courier New&quot;, monospace; line-height: 22px;">content-type为</span><span style="font-size: 12pt; color: rgb(212, 212, 212); font-family: Consolas; line-height: 22px;">application/json的请求数据</span></div><div><span style="font-size: 12pt; font-family: Consolas;">两种请求数据编码格式：</span></div><div><span style="font-size: 12pt; font-family: Consolas;">1.application/json</span></div><div><span style="font-size: 12pt; font-family: Consolas;">请求数据以json字符串的形式存在，例如&apos;{name:test,age:18}&apos;</span></div><div><span style="font-size: 12pt; font-family: Consolas;">2.application/x-www-form-urlencoded 例如 name=test&amp;age=18</span></div><div><span style="font-size: 12pt; font-family: Consolas;">请求数据以键值对的形式存在</span></div><div><span style="font-size: 11pt;">3.req.param(键名) express4.11以上版本已废弃</span></div><div><span style="font-size: 11pt;">4.req.query</span></div><div><span style="font-size: 11pt;">获取url上的请求参数例如：/user?username=test&amp;password=123</span></div><div><span style="font-size: 11pt;">使用方式：req.query.username</span></div></en-note>]]></content><created>20210313T123933Z</created><updated>20210313T130354Z</updated><note-attributes><author>回忆</author><source>desktop.win</source><source-application>yinxiang.win32</source-application></note-attributes></note></en-export>
